<!DOCTYPE html> 
<html lang="en"> 
<head> 
<title>MooTools - Asset.css-patch</title> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<meta http-equiv="imagetoolbar" content="no" /> 
<!--[if IE]>
<link rel="stylesheet" type="text/css" media="all" href="/stylesheets/ie.css" />
<![endif]--> 
<style>
a {
  display:block;
}
</style>
</head> 

<body id="" class=""> 
  <div id="wrapper">
    <a href="#" id="load">Working Stylesheet</a> 
    <a href="#" id="remote">Working Remote Stylesheet</a> 
    <a href="#" id="error">404 Stylesheet</a> 
    <a href="#" id="error2">404 Remote Stylesheet (doesn't work)</a> 
  </div>
<script type="text/javascript" src="../Assets/MooTools-core.js"></script>
<script type="text/javascript" src="../Assets/MooTools-more.js"></script>
<script type="text/javascript" src="../../Source/Asset.css.js"></script>
<script type="text/javascript">
window.addEvent('domready',function() {
  $('load').addEvent('click',function(event) {
    event.stop();
    var random = Number.random(1,1000);
    new Asset.css('./file.css?' + random,{
      onError : function() {
        alert('error');
      },
      onLoad : function() {
        alert('success');
      }
    });
  });

  $('remote').addEvent('click',function(event) {
    event.stop();
    var random = Number.random(1,1000);
    new Asset.css('http://yearofmoo.com/wp-content/themes/Sharpfolio/style.css?' + random,{
      onError : function() {
        alert('error');
      },
      onLoad : function() {
        alert('success');
      }
    });
  });

  $('error').addEvent('click',function(event) {
    event.stop();
    var random = Number.random(1,1000);
    new Asset.css('./error.css?' + random,{
      onError : function() {
        alert('error');
      },
      onLoad : function() {
        alert('success');
      }
    });
  });

  $('error2').addEvent('click',function(event) {
    event.stop();
    var random = Number.random(1,1000);
    new Asset.css('http://something.com/error.html?' + random,{
      onError : function() {
        alert('error');
      },
      onLoad : function() {
        alert('success');
      }
    });
  });
});
</script>
</body>
</html> 
